variables:
    - brew_packages:
        - awscli
        - hdf5
        - colima
        - docker-buildx
        - cmake
        - libomp
        - thishouldfail
    - thing: |
        This is just text tbh.
        With a newline.
helpers:
    command_exists:
        text: Check that a command exists
        run: command -v {}
        shell: True
    python_312_not_available:
        run: pyenv versions --skip-envs --skip-aliases | grep -q "3.12"
        success: 1
        shell: True
tasks:
    checkenv:
        cwd: ~/dev/analytics
        prerequisites: helpers.command_exists(brew)
        run: pwd
    python_task:
        text: |
            We can run Python code as well, and check the output.
            The python code is not parsed by TaskRunner, but we can use `python -c` to achieve this.

            Before running this, we can run a helper to make sure we have access to Python, for example.
        run: python -c "from pprint import pprint; pprint('This was printed by Python')"
        prerequisites: helpers.command_exists(python) helpers.command_exists(brew)
        show_output: True